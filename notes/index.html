<!DOCTYPE HTML>
<!--
	Justice by gettemplates.co
	Twitter: http://twitter.com/gettemplateco
	URL: http://gettemplates.co
-->
<html>
	<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>ziAbs&mdash;Notes</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<meta name="author" content="" />

	<link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i|Roboto+Mono" rel="stylesheet">
	
	<!-- Animate.css -->
	<link rel="stylesheet" href="css/animate.css">
	<!-- Icomoon Icon Fonts-->
	<link rel="stylesheet" href="css/icomoon.css">
	<!-- Bootstrap  -->
	<link rel="stylesheet" href="css/bootstrap.css">

	<!-- Theme style  -->
	<link rel="stylesheet" href="css/style.css">

	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	<!-- FOR IE9 below -->
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->

	</head>
	<body>

	<div id="page">
	<nav class="gtco-nav" role="navigation">
		<div class="container">
			<div class="row">
				<div class="col-xs-12 text-center">
					<div id="gtco-logo">
						<a href="index.html">zi<span class="ziabs-blue">A</span>bs Notes</a></div>
				</div>
			</div>
			
		</div>
	</nav>

	
	<div id="gtco-main">
		<div class="container">
			<div class="row row-pb-md">
				<div class="col-md-12">
					<ul id="gtco-post-list">
						<li class="full entry animate-box" data-animate-effect="fadeIn"> 
								<div class="entry-img" style="background-image: url(images/notes/how-to-pass-a-variable-by-value-to-async-callbacks-in-javascript.png"></div>
								<div class="entry-desc">
									<h3>How to pass a variable by value to async callbacks in Javascript (Nodejs)</h3>
									<p>
										If you are a javascript developer, one of the hurdles you would have faced is how to pass a variable by value to async callbacks in Javascript when the variable is changing inside a loop. When a variable is declared as var , it gets hoisted to the top of the scope and the same variable gets shared inside the callback function as well. This becomes a problem because if the variable is getting incremented or changed in some way.
									</p>
									<h4>Wrong code</h4>
									<figure class="highlight"><pre><code class="language-css"><div>for (var i = 0; i < 3; i++){</div><div>setInterval(function() {</div><div>console.log(i)</div><div>}, 500)</div><div>}</div>
									</code></pre></figure>
									<P>The output of the above code is 3, 3, 3 which is not what you would expect. When I first faced this problem, I was expecting it to print 0, 1, 2 but instead, I got the final value of the variable printed out. After a lot of digging around, I managed to find a solution which is binding variable to the functionâ€™s scope. This way the variable is passed as value instead of referring to the parent variable.</P>
									<h4>THE SOLUTION?</h4>
									<p>There are multiple ways to fix this issue- one is declaring the variable as <code>let</code> instead of <code>var</code> like so,</p>
									<figure class="highlight"><pre><code class="language-css"><div>for (var i = 0; i < 3; i++) {</div><div>setTimeout(function() {</div><div> console.log(this.i)</div><div>}.bind({ i: i}), 500)</div><div>}</div>
									</code></pre></figure>
									<p>Now the output is 0, 1, 2 which is exactly what we wanted. In the above example, we are binding the global var to function scope using the bind keyword.</p>
								</div>
						</li>	
						
					</ul>	
				</div>
			</div>
		</div>
	</div>




	</div>
	<div class="gototop js-top">
		<a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
	</div>
	
	<!-- jQuery -->
	<script src="js/jquery.min.js"></script>
	<!-- jQuery Easing -->
	<script src="js/jquery.easing.1.3.js"></script>
	<!-- Bootstrap -->
	<script src="js/bootstrap.min.js"></script>
	<!-- Waypoints -->
	<script src="js/jquery.waypoints.min.js"></script>
	<!-- Main -->
	<script src="js/main.js"></script>
	<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
				(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
					m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
			ga('create', 'UA-59846923-1', 'auto');
			ga('send', 'pageview');
		
		</script>
	</body>
</html>